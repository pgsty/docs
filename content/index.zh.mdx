---
title: Pigsty 文档
description: Pigsty v3.6 文档
icon: PiggyBank
full: true
---

import {Database,CpuIcon,Landmark,Settings,FileCode,Server,Container,Leaf,Box,Layers,Rocket,SquareStack,Code} from 'lucide-react';
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';

<span className="text-sky-700 font-black">P</span>ostgres <span className="text-blue-400 font-black">I</span>n <span className="text-orange-500 font-black">G</span>reat <span className="text-gray-500 font-black">S</span><span className="text-red-700 font-black">T</span><span className="text-green-600 font-black">Y</span>le ——
<span className="text-sky-700 font-black">P</span>ostgres
<span className="text-blue-400 font-black">I</span>nfra
<span className="text-orange-500 font-black">G</span>raphic
<span className="text-gray-500 font-black">S</span>ervice
<span className="text-red-700 font-black">T</span>oolbox, 
<span className="text-green-600 font-black">Y</span>ours
—— 你的图形化 PG 基建服务工具箱！

## 简介 [#introduction]

<span className="text-black font-black">Pigsty</span> <span className="text-fd-muted-foreground text-sm">(/ˈpɪɡ staɪ/)</span>
是一个开箱即用的开源 <a href="/zh/intro/distro"><span className="text-sky-700 font-black">PostgreSQL 发行版</span></a>，
也是一个本地优先的 <a href="/zh/intro/rds"><span className="text-amber-600 font-black">RDS 替代方案</span></a>。



<Cards>

    <Card icon={<Rocket className="text-blue-300" />} title='价值' href={"/zh/value"}>
        为什么使用 Pigsty？Pigsty 的 8 条核心价值主张
    </Card>

    <Card icon={<SquareStack className={"text-red-500"} />} title='特性' href={"/zh/feat"}>
        核心特性、亮点和技术细节
    </Card>

    <Card icon={<Code className="text-green-600" />} title='参考' href={"/zh/intro"}>
        架构、用例、对比和其他参考资料
    </Card>
    <Card icon={<Landmark className={"text-orange-400"} />} title='关于' href={"/zh/about"}>
        许可证、发布、社区、新闻、作者、服务等...
    </Card>

</Cards>

Pigsty 汇聚了 PostgreSQL 和数据库世界的所有超能力，提供构建数据基础设施所需的一切。

> **一切皆用 Postgres！像专家一样自建！**





--------

## 安装 [#installation]

[**快速开始**](/zh/install/start)：[准备](/zh/prepare) 一台具有 [SSH 访问权限](/zh/prepare/admin#check-accessibility) 的 [节点](/zh/prepare/hardware#node)，新安装 [Linux](/zh/prepare/linux) 系统，
使用具有免密 [`ssh`](/zh/prepare/admin#ssh) 和 [`sudo`](/zh/prepare/admin#sudo-privileges) 权限的 [用户](/zh/prepare/admin#user) 运行：

```bash title="install"
curl -fsSL https://repo.pigsty.io/get | bash; cd ~/pigsty;  # 下载安装 Pigsty
./configure    # 生成配置文件
./install.yml  # 执行安装部署
```

[**下载**](/zh/prepare/software#pigsty)、[**配置**](/zh/config/configure) 和 [**安装**](/zh/install)。Pigsty 会在几分钟内 [**完成安装**](/zh/install)！您可以稍后 [**添加更多节点**](/zh/install/multinode) 与数据库集群。

接下来，您可以探索 [**用户界面**](/zh/install/interface)，访问 `5432` 端口上的 [Postgres](/zh/pgsql) [服务](/zh/pgsql/service)，以及 `3000` 端口上的 Grafana 监控大盘（用户名/密码：`admin` / `pigsty`）。

<Cards>

    <Card icon={<Rocket className="text-blue-300" />} title='安装' href={"/zh/install"}>
        在 Linux 服务器上安装 Pigsty
    </Card>

    <Card icon={<SquareStack className={"text-red-500"} />} title='准备' href={"/zh/prepare"}>
        为正式部署准备环境
    </Card>

    <Card icon={<Code className="text-green-600" />} title='配置' href={"/zh/config"}>
        使用配置清单自定义数据库集群
    </Card>
    <Card icon={<Landmark className={"text-orange-400"} />} title='管理' href={"/zh/admin"}>
        使用 Ansible 剧本管理您的环境
    </Card>

</Cards>

你可以将多种风味的 [PostgreSQL](/pgsql/kernel/postgres) 内核封装为 RDS： [Citus](/pgsql/kernel/citus), [WiltonDB](/pgsql/kernel/babelfish), [IvorySQL](/pgsql/kernel/ivorysql), [OpenHalo](/pgsql/kernel/openhalo), [Percona](/pgsql/kernel/percona), [OrioleDB](/pgsql/kernel/orioledb), [PolarDB](/pgsql/kernel/polardb), 以及 [Supabase](/pgsql/kernel/supabase)。

--------

## 模块 [#modules]

Pigsty 由多个 [**模块**](/zh/intro/module) 组成。其中，`PGSQL` / `INFRA` / `NODE` / `ETCD` （`PINE` 组合） 是自主托管 Postgres RDS 服务的 <span className="text-sky-700 font-black">必需</span> 模块。

<Cards>
    <Card icon={<Database className="text-sky-600" />} title='PGSQL' href={"/zh/pgsql"}>
        具有高可用、PITR、IaC、ACL、监控和 437 扩展的 HA PG 集群
    </Card>
    <Card icon={<Landmark className="text-green-700" />} title='INFRA' href={"/zh/infra"}>
        Nginx、软件仓库、DNS、NTP、Prometheus 和 Grafana 可观测性技术栈
    </Card>
    <Card icon={<CpuIcon className={"text-amber-500"} />} title='NODE' href={"/zh/node"}>
        将节点注册到所需状态并监控，以及 VIP、HAProxy
    </Card>
    <Card icon={<Settings className={"text-sky-400"} />} title='ETCD' href={"/zh/etcd"}>
        可靠的分布式共识存储（DCS），为 PGSQL 高可用提供支持
    </Card>
</Cards>

Pigsty 还提供了一些 <span className="text-emerald-500 font-black">完全可选</span> 的 "福利" 模块，它们与 PostgreSQL 配合良好，并能为您的数据基础设施带来额外价值。

<Cards>
    <Card icon={<Box className="text-red-800" />} title='MINIO' href={"/zh/minio"}>
        S3 兼容的对象存储，可选的备份存储
    </Card>
    <Card icon={<Layers className="text-red-400" />} title='REDIS' href={"/zh/redis"}>
        高性能内存缓存，可选的数据结构服务器
    </Card>
    <Card icon={<Container className="text-blue-500" />} title='DOCKER' href={"/zh/docker"}>
        容器运行时，可选，用于运行无状态应用和工具
    </Card>
    <Card icon={<Leaf className="text-gray-500" />} title='FERRET' href={"/zh/ferret"}>
        将你的 PostgreSQL 封装为一套 MongoDB！
    </Card>
</Cards>

--------

## 常见问题 [#faq]

<Accordions type="single" orientation={"horizontal"}>
    <Accordion title="Pigsty 是什么，不是什么？">
        Pigsty 是一个 PostgreSQL 数据库发行版，本地优先的开源 RDS 云数据库解决方案。Pigsty 不是数据库（DBMS），而是管理数据库的工具，解决方案，与最佳实践。属于 RDS/DBA 赛道。类比：数据库是车，那么 DBA 是司机，RDS 是出租车服务，Pigsty 则是自动驾驶软件。
    </Accordion>

    <Accordion title="Pigsty 解决什么问题？">
        用好数据库的能力极为稀缺：要么高薪聘请数据库专家自建（雇司机），或从云厂商以天价租赁 RDS（打车），但现在你有新的选项：Pigsty（自动驾驶）。Pigsty 帮用户用好数据库：让用户在没有 DBA 的情况下，以不到 RDS 1/10 的成本，自建质量效率更优的本地云数据库服务！
    </Accordion>

    <Accordion title="Pigsty 为什么能帮您用好数据库？">
        Pigsty 沉淀了顶尖专家在最复杂，最大规模的甲方 PostgreSQL 场景中打磨得到的经验与最佳实践，产品化为可复制的软件：一次性解决扩展安装，高可用，链接池，监控，备份恢复，参数优化，IaC 批量管理，一键安装，自动化运维等诸多问题。提前规避诸多陷阱，避免重复踩坑。
    </Accordion>

    <Accordion title="Pigsty 为何比 RDS 好用？">
        Pigsty 提供远超 RDS 的特性集与基础设施支持，包括 400+ 扩展插件与 8+ 内核支持，提供独一无二的监控系统，与久经复杂场景打磨考验的架构最佳实践，简单易用。且用探探，苹果，阿里等顶级甲方场景打磨而成，用激情与热爱持续浇灌，深度与成熟度绝非 RDS 大锅饭可比。
    </Accordion>

    <Accordion title="Pigsty 为何比 RDS 省钱？">
        Pigsty 允许您使用 10 ¥/核·月的纯硬件资源，运行 400¥-1400¥/核·月的 RDS 云数据库，并省去 DBA 的工资。通常，成规模的 Pigsty 部署总拥有成本（TCO）能比 RDS 低 90% 以上。Pigsty 能够同时降低软件许可/服务/人力的开销，自建无需加人，让您将成本花在刀刃上。
    </Accordion>

    <Accordion title="Pigsty 对研发有什么帮助？">
        Pigsty 整合了 PG 生态最全的扩展（400+），提供了 All in PG 解决方案：单一组件替代 Redis, Kafka, MySQL, ES, 向量数据库, OLAP / 大数据分析等专用组件。极大提高研发效能与敏捷性的同时降低复杂度成本，而且研发能在 Pigsty 的加持下实现自助管理，自主 DevOps，无需 DBA
    </Accordion>

    <Accordion title="Pigsty 对运维有什么帮助？">
        Pigsty 故障自愈的高可用架构确保硬件故障无需当场处理，让运维与 DBA 睡个好觉；监控助力问题分析与性能优化；IaC 赋能超大规模集群自动化管理。运维在 Pigsty 加持下能兼职 DBA ，而 DBA 则可以跳过系统建设阶段，节省大量工时并专注于高价值工作，或喝茶看报，学习PG。
    </Accordion>

    <Accordion title="Pigsty 的作者是谁？">
        Pigsty 主体由冯若航一人开发，这是一位专注于 PostgreSQL 领域 10 年的开源贡献者，数据库专家与布道师，曾任职于阿里，探探，苹果，全栈专家。现为一人公司创始人，提供专业咨询服务。同时他也是技术 KOL，微信数据库个人公众号榜首 《非法加冯》 的主理人，全网粉丝六万+
    </Accordion>

    <Accordion title="Pigsty 的生态位与影响力如何？">
        Pigsty 是 OSSRANK PG 生态开源榜单中国人主导项目的第一名，同时也是 PostgreSQL 生态最活跃的开源项目之一，目前在扩展分发与监控系统上占据碾压性优势。Pigsty 目前是云厂商 RDS 的挑战者，目前已经广泛应用于军工，政企，医疗，互联网，金融，制造业等各个行业。
    </Accordion>

    <Accordion title="Pigsty 适合什么规模的客户？">
        Pigsty 源于超大规模 PostgreSQL 自动化管理的需求，但已针对易用性进行深度优化，缺乏专业 DBA 能力的个人开发者与中小型企业也可以轻松上手使用。最大规模部署为 25K vCPU，450万QPS，六年+，最小规模部署可完整运行于 1c1g 虚拟机上作为 Demo / Devbox 使用
    </Accordion>

    <Accordion title="Pigsty 提供哪些能力？">
        Pigsty 专注于整合 PostgreSQL 生态，提供 PostgreSQL 的最佳实践，但同时也支持一系列与 PostgreSQL 配合良好的开源软件。例如 Etcd, Redis, MinIO, DuckDB, Prometheus, FerretDB, Babelfish, IvorySQL, PolarDB, OrioleDB, OpenHalo, Supabase, Greenplum, Dify, Odoo,...
    </Accordion>

    <Accordion title="Pigsty 适用于哪些场景">
        运行大规模 PostgreSQL 集群用于业务；自建 RDS，对象存储，缓存，数仓，Supabase, …；自建 Odoo，Dify，Wiki，GitLab 等企业级应用；运行监控基础设施，监控现有数据库与主机；同时组合使用多种PG扩展插件；大屏开发与交互式数据应用 Demo，数据可视化，Web 建站
    </Accordion>

    <Accordion title="Pigsty 开源免费吗？">
        Pigsty 是 100% 的开源软件 + 自由软件，使用 AGPLv3 许可证开源。在遵循开源许可证的前提下，您可以将其免费地，自由的用于各种商业目的。我们珍视软件自由，对于非 DBaaS / OEM 用例，我们执行更为宽松的等效 Apache 2.0 许可证。请参阅许可证以获取更多详细信息。
    </Accordion>

    <Accordion title="Pigsty 提供商业支持吗？">
        Pigsty 软件本身开源免费，并提供丰俭由人的商业订阅，为 Pigsty & PostgreSQL 提供质保。订阅提供更宽广的 OS/PG/芯片架构支持范围，以及专家咨询与支持。Pigsty 商业订阅交付业界顶尖的管理/技术经验/解决方案，帮助您节省宝贵的时间，替您扛雷，并为疑难杂症兜底。
    </Accordion>

    <Accordion title="Pigsty 支持国产信创吗？">
        Pigsty 软件本身不属于数据库，不受信创名录限制，且已有多个部队用例。但 Pigsty 开源版不提供任何形式的信创支持，商业版订阅提供与阿里云合作的国产信创解决方案，支持使用具有信创资质的 PolarDB-O （需单独采购）作为 RDS 内核，能够运行于信创操作系统/芯片环境。
    </Accordion>

    <Accordion title="Pigsty 可以作为多租户 DBaaS 出售或换 Logo 贴牌吗？">
        您可以在遵循 AGPLv3 许可证 —— 开源全部衍生工作的前提下将其用于此目的。我们保留对公有云/数据库厂商违反 AGPLv3 许可证进行追责的权利。如果您不希望开源衍生作品，建议您选购 Pigsty 企业版订阅计划，那里提供对此用例的清晰授权以及对 AGPLv3 开源义务的豁免。
    </Accordion>
</Accordions>


