---
title: 最新版本
description: Pigsty 最新的稳定版本 v3.6
icon: Sparkle
---


## Pigsty v3.7.0

**亮点特性**

- PostgreSQL 18 深度支持，成为默认 PG 大版本，扩展已就位！
- 新增 EL10 / Debian 13 操作系统支持，总数达 14 个！
- 新增 PostgresQL 扩展数量，总数达到 437 个！
- 支持了 Ansible 2.19 破坏性重构以后的版本！
- Supabase，PolarDB, IvorySQL, Percona 内核更新至最新版本！
- 优化了 PG 默认参数的设置逻辑，更充分利用资源。

**版本更新**

- PostgreSQL 18.1, 17.7, 16.11, 15.15, 14.20, 13.23
- Patroni 4.1.0
- Pgbouncer 1.25.0
- pg_exporter 1.0.3
- pgbackrest 2.57.0
- Supabase 2025-11
- PolarDB 15.15.5.0
- FerretDB 2.7.0
- DuckDB 1.4.2
- Etcd 3.6.6
- pig 0.7.4

更多软件版本更新信息，请参考：

- [INFRA 变更日志](https://pgext.cloud/zh/release/infra/)
- [RPM 变更日志](https://pgext.cloud/zh/release/rpm/)
- [DEB 变更日志](https://pgext.cloud/zh/release/deb/)。

**API变化**

- 为并行执行的相关参数设置了更合理的优化策略，详见 [**调参说明**](/zh/pgsql/admin/tune)
- 在 `rich` 与 `full` 模板中，不再默认安装 citus 扩展，因为 citus 尚未支持 PG 18
- PG 参数模板中，新增 duckdb 系列扩展存根。
- 为 `min_wal_size`, `max_wal_size`, `max_slot_wal_keep_size` 设置 200，2000，3000 GB 的封顶上限值。
- 为 `temp_file_limit` 设置 200 GB 的封顶上限，OLAP 设置为 2 TB。
- 适当增大连接池默认链接数量
- 新增 `prometheus_port` 参数，且默认值为 `9058`，避开与 EL10 RHEL Web Console 端口的冲突。
- 修改 `alertmanager_port` 参数的默认值为 `9059`，避开与 Kafka SSL 端口的潜在冲突。
- 新增 `pg_pkg` 的 `pg_pre` 子任务，在安装 PG 包前移除 el9+ 上导致 LLVM 冲突的 `bpftool`, `python3-perf`
- 在 Debian / Ubuntu 的默认仓库定义中新增 llvm 仓库模块
- 修复了 `infra-rm.yml` 移除软件包的逻辑

**兼容性修复**

- 修复了 Ubuntu/Debian 信任 CA 时 Warning 返回码错误的问题。
- 修复了 Ansible 2.19 引入的大量兼容性问题，确保在新老版本上正常运行。
  - 为 seq 类变量添加了 int 类型转换，确保兼容
  - 将大量 with_items 修改为 loop 语法，确保兼容
  - 为密钥交换变量添加一层列表嵌套，避免在新版本下针对字符串进行字符迭代。
  - 将 range 用例显式转换为 list 后使用
  - 修改了 name，port 等标记保留的变量命名
  - 将 `play_hosts` 修改为 `ansible_play_hosts`
  - 为部分字符串类型添加了 string 强制类型转换，避免运行时错误。
- EL10 逻辑适配：
  - 修复了 EL10 缺少 ansible-collection-community-crypto 无法生成密钥的问题
  - 修复了 EL10 缺少 ansible 逻辑包的问题
  - 移除 modulemd_tools flamegraph timescaledb-tool
  - 使用 java-21-openjdk 替代 java-17-openjdk
  - aarch64 YUM 仓库名称问题
- Debian 13 逻辑适配
  - 使用 `bind9-dnsutils` 替代 `dnsutils`
- Ubuntu 24 修复
  - 临时移除了上游依赖崩溃的 tcpdump 包

**校验和**

```bash
e00d0c2ac45e9eff1cc77927f9cd09df  pigsty-v3.7.0.tgz
987529769d85a3a01776caefefa93ecb  pigsty-pkg-v3.7.0.d12.aarch64.tgz
2d8272493784ae35abeac84568950623  pigsty-pkg-v3.7.0.d12.x86_64.tgz
090cc2531dcc25db3302f35cb3076dfa  pigsty-pkg-v3.7.0.d13.x86_64.tgz
ddc54a9c4a585da323c60736b8560f55  pigsty-pkg-v3.7.0.el10.aarch64.tgz
d376e75c490e8f326ea0f0fbb4a8fd9b  pigsty-pkg-v3.7.0.el10.x86_64.tgz
8c2deeba1e1d09ef3d46d77a99494e71  pigsty-pkg-v3.7.0.el8.aarch64.tgz
9795e059bd884b9d1b2208011abe43cd  pigsty-pkg-v3.7.0.el8.x86_64.tgz
08b860155d6764ae817ed25f2fcf9e5b  pigsty-pkg-v3.7.0.el9.aarch64.tgz
1ac430768e488a449d350ce245975baa  pigsty-pkg-v3.7.0.el9.x86_64.tgz
e033aaf23690755848db255904ab3bcd  pigsty-pkg-v3.7.0.u22.aarch64.tgz
cc022ea89181d89d271a9aaabca04165  pigsty-pkg-v3.7.0.u22.x86_64.tgz
0e978598796db3ce96caebd76c76e960  pigsty-pkg-v3.7.0.u24.aarch64.tgz
48223898ace8812cc4ea79cf3178476a  pigsty-pkg-v3.7.0.u24.x86_64.tgz
```

